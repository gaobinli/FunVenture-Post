{"version":3,"file":"hotel.js","sources":["../../../../../src/pages/hotel/hotel.vue","../../../../../uniPage:/cGFnZXMvaG90ZWwvaG90ZWwudnVl"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport { ref } from 'vue'\r\nimport PageSkeleton from \"./components/PageSkeleton.vue\";\r\nimport { useCustomHotelRecommendList } from '@/composables'\r\n\r\n// 是否加载中的标记\r\nconst isLoading = ref(false)\r\n// 页面数据加载\r\nonLoad(async () => {\r\n  isLoading.value = true\r\n  hotelRef.value?.getMore()\r\n  isLoading.value = false\r\n})\r\n\r\n// 组合式函数调用\r\nconst { hotelRef, onScrolltolower } = useCustomHotelRecommendList()\r\n\r\n// 自定义下拉刷新被触发\r\nconst isTriggered = ref(false)\r\nconst onRefresherrefresh = async () => {\r\n  console.log(\"自定义下拉刷新触发\");\r\n  // 开始动画\r\n  isTriggered.value = true\r\n  // 加载数据（await 等待一个接口请求完才请求下一个，性能优化，直接三个接口一起，然后等待结束）\r\n  hotelRef.value?.resetData()\r\n  await Promise.all([hotelRef.value?.getMore()])\r\n  // 关闭动画\r\n  isTriggered.value = false\r\n}\r\n\r\nconst search = async (inputSearchValue: string) => {\r\n  hotelRef.value.searchValue = inputSearchValue.detail.value\r\n  hotelRef.value?.resetData()\r\n  await Promise.all([hotelRef.value?.getMore()])\r\n}\r\n</script>\r\n\r\n<template>\r\n  <view class=\"navbar\">\r\n    <!-- 搜索条 -->\r\n    <view class=\"search\">\r\n      <input class=\"uni-input\" focus placeholder=\"输入酒店名称\" @input=\"search($event)\" />\r\n    </view>\r\n  </view>\r\n  <!-- 自定义导航栏 -->\r\n  <scroll-view refresher-enabled @refresherrefresh=\"onRefresherrefresh\" :refresher-triggered=\"isTriggered\"\r\n    @scrolltolower=\"onScrolltolower\" scroll-y>\r\n    <PageSkeleton v-if=\"isLoading\" />\r\n    <template v-else>\r\n      <CustomHotelRecommend ref=\"hotelRef\" />\r\n    </template>\r\n  </scroll-view>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n  background-color: #f7f7f7;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.scroll-view {\r\n  flex: 1;\r\n}\r\n\r\n.navbar {\r\n  background-image: url(@/static/images/navigator_bg.png);\r\n  background-size: cover;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n\r\n  .search {\r\n    // display: flex;\r\n    // align-items: center;\r\n    // justify-content: space-between;\r\n    padding: 0 10rpx 0 26rpx;\r\n    height: 64rpx;\r\n    margin-top: 16rpx;\r\n    margin-left: 20rpx;\r\n    margin-right: 20rpx;\r\n    color: #fff;\r\n    font-size: 28rpx;\r\n    border-radius: 32rpx;\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n\r\n    .uni-input {\r\n      line-height: 64rpx;\r\n      height: 64rpx;\r\n    }\r\n  }\r\n\r\n  .icon-search {\r\n    &::before {\r\n      margin-right: 10rpx;\r\n    }\r\n\r\n  }\r\n}\r\n</style>","import MiniProgramPage from 'D:/gp/2026016-重庆旅游微信小程序的设计与实现/trip-hub-mp/src/pages/hotel/hotel.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","useCustomHotelRecommendList"],"mappings":";;;;;;;;;;;AAGA,MAAA,eAAyB,MAAA;;;;AAInB,UAAA,YAAYA,kBAAI,KAAK;AAE3BC,kBAAAA,OAAO,YAAY;;AACjB,gBAAU,QAAQ;AAClB,qBAAS,UAAT,mBAAgB;AAChB,gBAAU,QAAQ;AAAA,IAAA,CACnB;AAGD,UAAM,EAAE,UAAU,gBAAgB,IAAIC,kBAA4B,4BAAA;AAG5D,UAAA,cAAcF,kBAAI,KAAK;AAC7B,UAAM,qBAAqB,YAAY;;AACrC,cAAQ,IAAI,WAAW;AAEvB,kBAAY,QAAQ;AAEpB,qBAAS,UAAT,mBAAgB;AAChB,YAAM,QAAQ,IAAI,EAAC,cAAS,UAAT,mBAAgB,SAAS,CAAC;AAE7C,kBAAY,QAAQ;AAAA,IAAA;AAGhB,UAAA,SAAS,OAAO,qBAA6B;;AACxC,eAAA,MAAM,cAAc,iBAAiB,OAAO;AACrD,qBAAS,UAAT,mBAAgB;AAChB,YAAM,QAAQ,IAAI,EAAC,cAAS,UAAT,mBAAgB,SAAS,CAAC;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;ACjC/C,GAAG,WAAW,eAAe;"}