{"version":3,"file":"my.js","sources":["../../../../../src/pages/my/my.vue","../../../../../uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { useMemberStore } from '@/stores'\r\nimport { onShow } from '@dcloudio/uni-app'\r\nimport { ref } from 'vue'\r\nimport { getMemberProfileAPI } from '@/services/profile'\r\nimport { useCustomScenicSpotRecommendList } from '@/composables'\r\n\r\n// Ëé∑ÂèñÂ±èÂπïËæπÁïåÂà∞ÂÆâÂÖ®Âå∫ÂüüË∑ùÁ¶ª\r\nconst { safeAreaInsets } = uni.getSystemInfoSync()\r\n// Ëé∑Âèñ‰ø°ÊÅØ\r\nconst memberStore = useMemberStore()\r\nconst userInfo = ref()\r\n\r\nconst { scenicSpotRef, onScrolltolower } = useCustomScenicSpotRecommendList()\r\n\r\nonShow(async () => {\r\n  if (useMemberStore() && useMemberStore().profile) {\r\n    const res = await getMemberProfileAPI()\r\n    userInfo.value = res.data\r\n  }\r\n\r\n})\r\n</script>\r\n\r\n<template>\r\n  <scroll-view @scrolltolower=\"onScrolltolower\" class=\"viewport\" scroll-y>\r\n    <!-- ‰∏™‰∫∫ËµÑÊñô -->\r\n    <view class=\"profile\" :style=\"{ paddingTop: safeAreaInsets!.top + 'px' }\">\r\n      <!-- ÊÉÖÂÜµ1ÔºöÂ∑≤ÁôªÂΩï -->\r\n      <view class=\"overview\" v-if=\"memberStore.profile\">\r\n        <navigator url=\"/pagesMember/profile/profile\" hover-class=\"none\">\r\n          <image v-if=\"userInfo.avatar\" class=\"avatar\" :src=\"userInfo.avatar\"></image>\r\n          <image v-else class=\"avatar\" src=\"@/static/images/default_avatar.png\"></image>\r\n        </navigator>\r\n        <view class=\"meta\">\r\n          <navigator url=\"/pagesMember/profile/profile\" hover-class=\"none\">\r\n            <view class=\"nickname\">\r\n              {{ userInfo.nickName || userInfo.phone }}\r\n            </view>\r\n          </navigator>\r\n          <navigator class=\"extra\" url=\"/pagesMember/profile/profile\" hover-class=\"none\">\r\n            <text class=\"update\">Êõ¥Êñ∞Â§¥ÂÉèÊòµÁß∞</text>\r\n          </navigator>\r\n        </view>\r\n      </view>\r\n      <!-- ÊÉÖÂÜµ2ÔºöÊú™ÁôªÂΩï -->\r\n      <view class=\"overview\" v-else>\r\n        <navigator url=\"/pages/login/login\" hover-class=\"none\">\r\n          <image class=\"avatar gray\" src=\"@/static/images/default_avatar.png\">\r\n          </image>\r\n        </navigator>\r\n        <view class=\"meta\">\r\n          <navigator url=\"/pages/login/login\" hover-class=\"none\" class=\"nickname\">\r\n            Êú™ÁôªÂΩï\r\n          </navigator>\r\n          <view class=\"extra\">\r\n            <text class=\"tips\">ÁÇπÂáªÁôªÂΩïË¥¶Âè∑</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <navigator class=\"settings\" url=\"/pagesMember/settings/settings\" hover-class=\"none\">\r\n        ËÆæÁΩÆ\r\n      </navigator>\r\n    </view>\r\n    <!-- Èí±ÂåÖ -->\r\n    <view class=\"wallet-card\" v-if=\"memberStore.profile\">\r\n      <navigator url=\"/pagesMember/wallet/wallet\" hover-class=\"none\">\r\n        <view class=\"wallet-content\">\r\n          <view class=\"wallet-icon\">üí≥</view>\r\n          <view class=\"wallet-info\">\r\n            <view class=\"wallet-title\">ÊàëÁöÑÈí±ÂåÖ</view>\r\n            <view class=\"wallet-balance\">‰ΩôÈ¢ù: ¬•{{ userInfo.balance || '0.00' }}</view>\r\n          </view>\r\n          <view class=\"wallet-arrow\">‚Ä∫</view>\r\n        </view>\r\n      </navigator>\r\n    </view>\r\n    <!-- ÊàëÁöÑËÆ¢Âçï -->\r\n    <view class=\"orders\">\r\n      <view class=\"title\">\r\n        ÊàëÁöÑËÆ¢Âçï\r\n        <navigator class=\"navigator\" url=\"/pagesOrder/list/list?type=1\" hover-class=\"none\">\r\n          Êü•ÁúãÂÖ®ÈÉ®ËÆ¢Âçï<text class=\"icon-right\"></text>\r\n        </navigator>\r\n      </view>\r\n      <view class=\"section\">\r\n        <navigator class=\"navigator\" url=\"/pagesCollect/list/list?type=1\" hover-class=\"none\">\r\n          <button class=\"contact icon-gift\">ÊôØÁÇπÊî∂Ëóè</button>\r\n        </navigator>\r\n        <navigator class=\"navigator\" url=\"/pagesCollect/list/list?type=2\" hover-class=\"none\">\r\n          <button class=\"contact icon-check\">ÁæéÈ£üÊî∂Ëóè</button>\r\n        </navigator>\r\n        <navigator class=\"navigator\" url=\"/pagesCollect/list/list?type=3\" hover-class=\"none\">\r\n          <button class=\"contact icon-comment\">ÈÖíÂ∫óÊî∂Ëóè</button>\r\n        </navigator>\r\n        <navigator class=\"navigator\" url=\"/pagesOrder/list/list?type=1\" hover-class=\"none\">\r\n          <button class=\"contact icon-currency\">ÊàëÁöÑËÆ¢Âçï</button>\r\n        </navigator>\r\n      </view>\r\n    </view>\r\n    <view class=\"guess\">\r\n      <CustomScenicSpotRecommend ref=\"scenicSpotRef\" />\r\n    </view>\r\n  </scroll-view>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background-color: #f7f7f8;\r\n}\r\n\r\n.viewport {\r\n  height: 100%;\r\n  background-repeat: no-repeat;\r\n  background-image: url(@/static/images/order_bg.png);\r\n  background-size: 100% auto;\r\n}\r\n\r\n/* Áî®Êà∑‰ø°ÊÅØ */\r\n.profile {\r\n  margin-top: 40rpx;\r\n  padding-bottom: 20rpx;\r\n  position: relative;\r\n\r\n  .overview {\r\n    display: flex;\r\n    height: 120rpx;\r\n    padding: 0 36rpx;\r\n    color: #fff;\r\n  }\r\n\r\n  .avatar {\r\n    width: 120rpx;\r\n    height: 120rpx;\r\n    border-radius: 50%;\r\n    background-color: #eee;\r\n  }\r\n\r\n  .gray {\r\n    filter: grayscale(100%);\r\n  }\r\n\r\n  .meta {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    line-height: 30rpx;\r\n    padding: 16rpx 0;\r\n    margin-left: 20rpx;\r\n  }\r\n\r\n  .nickname {\r\n    max-width: 180rpx;\r\n    margin-bottom: 16rpx;\r\n    font-size: 30rpx;\r\n\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .extra {\r\n    display: flex;\r\n    font-size: 20rpx;\r\n  }\r\n\r\n  .tips {\r\n    font-size: 22rpx;\r\n  }\r\n\r\n  .update {\r\n    padding: 3rpx 10rpx 1rpx;\r\n    color: rgba(255, 255, 255, 0.8);\r\n    border: 1rpx solid rgba(255, 255, 255, 0.8);\r\n    margin-right: 10rpx;\r\n    border-radius: 30rpx;\r\n  }\r\n\r\n  .settings {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 40rpx;\r\n    font-size: 30rpx;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.orders {\r\n  position: relative;\r\n  z-index: 99;\r\n  padding: 30rpx;\r\n  margin: 50rpx 20rpx 0;\r\n  background-color: #fff;\r\n  border-radius: 10rpx;\r\n  box-shadow: 0 4rpx 6rpx rgba(240, 240, 240, 0.6);\r\n\r\n  .title {\r\n    height: 40rpx;\r\n    line-height: 40rpx;\r\n    font-size: 28rpx;\r\n    color: #1e1e1e;\r\n\r\n    .navigator {\r\n      font-size: 24rpx;\r\n      color: #939393;\r\n      float: right;\r\n    }\r\n  }\r\n\r\n  .section {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 40rpx 20rpx 10rpx;\r\n\r\n    .navigator,\r\n    .contact {\r\n      text-align: center;\r\n      font-size: 24rpx;\r\n      color: #333;\r\n\r\n      &::before {\r\n        display: block;\r\n        font-size: 60rpx;\r\n        color: #ff9545;\r\n      }\r\n    }\r\n\r\n    .contact {\r\n      padding: 0;\r\n      margin: 0;\r\n      border: 0;\r\n      background-color: transparent;\r\n      line-height: inherit;\r\n    }\r\n  }\r\n}\r\n\r\n/* Èí±ÂåÖÂç°Áâá */\r\n.wallet-card {\r\n  position: relative;\r\n  z-index: 99;\r\n  margin: 30rpx 20rpx;\r\n  border-radius: 10rpx;\r\n  box-shadow: 0 4rpx 6rpx rgba(240, 240, 240, 0.6);\r\n  background: linear-gradient(135deg, #28bb9c 0%, #1e9b7c 100%);\r\n  overflow: hidden;\r\n\r\n  .wallet-content {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 30rpx;\r\n    color: #fff;\r\n\r\n    .wallet-icon {\r\n      font-size: 50rpx;\r\n      margin-right: 20rpx;\r\n    }\r\n\r\n    .wallet-info {\r\n      flex: 1;\r\n\r\n      .wallet-title {\r\n        font-size: 28rpx;\r\n        font-weight: 500;\r\n        margin-bottom: 8rpx;\r\n      }\r\n\r\n      .wallet-balance {\r\n        font-size: 24rpx;\r\n        opacity: 0.9;\r\n      }\r\n    }\r\n\r\n    .wallet-arrow {\r\n      font-size: 40rpx;\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n}\r\n\r\n.guess {\r\n  background-color: #f7f7f8;\r\n  margin-top: 20rpx;\r\n}\r\n</style>","import MiniProgramPage from 'D:/gp/2026016-ÈáçÂ∫ÜÊóÖÊ∏∏ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÁöÑËÆæËÆ°‰∏éÂÆûÁé∞/trip-hub-mp/src/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","useMemberStore","ref","useCustomScenicSpotRecommendList","onShow","getMemberProfileAPI"],"mappings":";;;;;;;;;;;;;;;;;;;AAQA,UAAM,EAAE,eAAA,IAAmBA,cAAA,MAAI,kBAAkB;AAEjD,UAAM,cAAcC,sBAAAA;AACpB,UAAM,WAAWC,cAAAA;AAEjB,UAAM,EAAE,eAAe,gBAAgB,IAAIC,kBAAiC,iCAAA;AAE5EC,kBAAAA,OAAO,YAAY;AACjB,UAAIH,qCAAe,KAAKA,qCAAe,EAAE,SAAS;AAC1C,cAAA,MAAM,MAAMI,iBAAAA;AAClB,iBAAS,QAAQ,IAAI;AAAA,MACvB;AAAA,IAAA,CAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBD,GAAG,WAAW,eAAe;"}